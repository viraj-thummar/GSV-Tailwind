{"ast":null,"code":"\"use strict\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FacebookEmbed = void 0;\n\nconst classnames_1 = __importDefault(require(\"classnames\"));\n\nconst react_1 = __importDefault(require(\"react\"));\n\nconst PlaceholderEmbed_1 = require(\"../placeholder/PlaceholderEmbed\");\n\nconst uuid_1 = require(\"../uuid\");\n\nconst EmbedStyle_1 = require(\"./EmbedStyle\");\n\nconst embedJsScriptSrc = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2';\nconst defaultEmbedWidth = 550;\nconst maxPlaceholderWidth = defaultEmbedWidth;\nconst defaultPlaceholderHeight = 372;\nconst borderRadius = 3; // Embed Stages\n\nconst CHECK_SCRIPT_STAGE = 'check-script';\nconst LOAD_SCRIPT_STAGE = 'load-script';\nconst CONFIRM_SCRIPT_LOADED_STAGE = 'confirm-script-loaded';\nconst PROCESS_EMBED_STAGE = 'process-embed';\nconst CONFIRM_EMBED_SUCCESS_STAGE = 'confirm-embed-success';\nconst RETRYING_STAGE = 'retrying';\nconst EMBED_SUCCESS_STAGE = 'embed-success';\n\nconst FacebookEmbed = _a => {\n  var _b, _c;\n\n  var {\n    url,\n    width,\n    height,\n    linkText = 'View post on Facebook',\n    placeholderImageUrl,\n    placeholderSpinner,\n    placeholderSpinnerDisabled = false,\n    placeholderProps,\n    embedPlaceholder,\n    placeholderDisabled = false,\n    scriptLoadDisabled = false,\n    retryDelay = 5000,\n    retryDisabled = false,\n    debug = false\n  } = _a,\n      divProps = __rest(_a, [\"url\", \"width\", \"height\", \"linkText\", \"placeholderImageUrl\", \"placeholderSpinner\", \"placeholderSpinnerDisabled\", \"placeholderProps\", \"embedPlaceholder\", \"placeholderDisabled\", \"scriptLoadDisabled\", \"retryDelay\", \"retryDisabled\", \"debug\"]);\n\n  const [stage, setStage] = react_1.default.useState(CHECK_SCRIPT_STAGE);\n  const embedSuccess = react_1.default.useMemo(() => stage === EMBED_SUCCESS_STAGE, [stage]);\n  const uuidRef = react_1.default.useRef((0, uuid_1.generateUUID)());\n  const [processTime, setProcessTime] = react_1.default.useState(Date.now());\n  const embedContainerKey = react_1.default.useMemo(() => `${uuidRef.current}-${processTime}`, [processTime]); // Debug Output\n\n  react_1.default.useEffect(() => {\n    debug && console.log(`[${new Date().toISOString()}]: ${stage}`);\n  }, [debug, stage]); // === === === === === === === === === === === === === === === === === === ===\n  // Embed Stages\n  // === === === === === === === === === === === === === === === === === === ===\n  // Check Script Stage\n\n  react_1.default.useEffect(() => {\n    var _a, _b;\n\n    if (stage === CHECK_SCRIPT_STAGE) {\n      const win = typeof window !== 'undefined' ? window : undefined;\n\n      if ((_b = (_a = win === null || win === void 0 ? void 0 : win.FB) === null || _a === void 0 ? void 0 : _a.XFBML) === null || _b === void 0 ? void 0 : _b.parse) {\n        setStage(PROCESS_EMBED_STAGE);\n      } else if (!scriptLoadDisabled) {\n        setStage(LOAD_SCRIPT_STAGE);\n      } else {\n        console.error('Facebook embed script not found. Unable to process Facebook embed:', url);\n      }\n    }\n  }, [scriptLoadDisabled, stage, url]); // Load Script Stage\n\n  react_1.default.useEffect(() => {\n    if (stage === LOAD_SCRIPT_STAGE) {\n      if (typeof document !== 'undefined') {\n        const scriptElement = document.createElement('script');\n        scriptElement.setAttribute('src', embedJsScriptSrc);\n        document.head.appendChild(scriptElement);\n        setStage(CONFIRM_SCRIPT_LOADED_STAGE);\n      }\n    }\n  }, [stage]); // Confirm Script Loaded Stage\n\n  react_1.default.useEffect(() => {\n    let interval = undefined;\n\n    if (stage === CONFIRM_SCRIPT_LOADED_STAGE) {\n      const win = typeof window !== 'undefined' ? window : undefined;\n      interval = setInterval(() => {\n        var _a, _b;\n\n        if ((_b = (_a = win === null || win === void 0 ? void 0 : win.FB) === null || _a === void 0 ? void 0 : _a.XFBML) === null || _b === void 0 ? void 0 : _b.parse) {\n          setStage(PROCESS_EMBED_STAGE);\n        }\n      }, 1);\n    }\n\n    return () => clearInterval(interval);\n  }, [stage]); // Process Embed Stage\n\n  react_1.default.useEffect(() => {\n    var _a, _b;\n\n    if (stage === PROCESS_EMBED_STAGE) {\n      const win = typeof window !== 'undefined' ? window : undefined;\n      const parse = (_b = (_a = win === null || win === void 0 ? void 0 : win.FB) === null || _a === void 0 ? void 0 : _a.XFBML) === null || _b === void 0 ? void 0 : _b.parse;\n\n      if (parse) {\n        parse();\n        setStage(CONFIRM_EMBED_SUCCESS_STAGE);\n      } else {\n        console.error('Facebook embed script not found. Unable to process Facebook embed:', url);\n      }\n    }\n  }, [stage, url]); // Confirm Embed Success Stage\n\n  react_1.default.useEffect(() => {\n    let confirmInterval = undefined;\n    let retryTimeout = undefined;\n\n    if (stage === CONFIRM_EMBED_SUCCESS_STAGE) {\n      confirmInterval = setInterval(() => {\n        if (typeof document !== 'undefined') {\n          const fbPostContainerElement = document.getElementById(uuidRef.current);\n\n          if (fbPostContainerElement) {\n            const fbPostElem = fbPostContainerElement.getElementsByClassName('fb-post')[0];\n\n            if (fbPostElem) {\n              if (fbPostElem.children.length > 0) {\n                setStage(EMBED_SUCCESS_STAGE);\n              }\n            }\n          }\n        }\n      }, 1);\n\n      if (!retryDisabled) {\n        retryTimeout = setTimeout(() => {\n          setStage(RETRYING_STAGE);\n        }, retryDelay);\n      }\n    }\n\n    return () => {\n      clearInterval(confirmInterval);\n      clearTimeout(retryTimeout);\n    };\n  }, [retryDisabled, retryDelay, stage]); // Retrying Stage\n\n  react_1.default.useEffect(() => {\n    if (stage === RETRYING_STAGE) {\n      // This forces the embed container to remount\n      setProcessTime(Date.now());\n      setStage(PROCESS_EMBED_STAGE);\n    }\n  }, [stage]); // END Embed Stages\n  // === === === === === === === === === === === === === === === === === === ===\n\n  const isPercentageWidth = !!(width === null || width === void 0 ? void 0 : width.toString().includes('%'));\n  const isPercentageHeight = !!(height === null || height === void 0 ? void 0 : height.toString().includes('%')); // === Placeholder ===\n\n  const placeholderStyle = {\n    maxWidth: isPercentageWidth ? undefined : maxPlaceholderWidth,\n    width: typeof width !== 'undefined' ? isPercentageWidth ? '100%' : width : '100%',\n    height: isPercentageHeight ? '100%' : typeof height !== 'undefined' ? height : typeof ((_b = divProps.style) === null || _b === void 0 ? void 0 : _b.height) !== 'undefined' || typeof ((_c = divProps.style) === null || _c === void 0 ? void 0 : _c.maxHeight) !== 'undefined' ? '100%' : defaultPlaceholderHeight,\n    border: '1px solid #dee2e6',\n    borderRadius\n  };\n  const placeholder = embedPlaceholder !== null && embedPlaceholder !== void 0 ? embedPlaceholder : react_1.default.createElement(PlaceholderEmbed_1.PlaceholderEmbed, Object.assign({\n    url: url,\n    imageUrl: placeholderImageUrl,\n    linkText: linkText,\n    spinner: placeholderSpinner,\n    spinnerDisabled: placeholderSpinnerDisabled\n  }, placeholderProps, {\n    style: Object.assign(Object.assign({}, placeholderStyle), placeholderProps === null || placeholderProps === void 0 ? void 0 : placeholderProps.style)\n  })); // === END Placeholder ===\n\n  return react_1.default.createElement(\"div\", Object.assign({}, divProps, {\n    className: (0, classnames_1.default)('rsme-embed rsme-facebook-embed', divProps.className),\n    style: Object.assign({\n      overflow: 'hidden',\n      width: width !== null && width !== void 0 ? width : undefined,\n      height: height !== null && height !== void 0 ? height : undefined,\n      borderRadius\n    }, divProps.style)\n  }), react_1.default.createElement(EmbedStyle_1.EmbedStyle, null), react_1.default.createElement(\"div\", {\n    id: uuidRef.current,\n    className: (0, classnames_1.default)(!embedSuccess && 'rsme-d-none')\n  }, react_1.default.createElement(\"div\", {\n    key: embedContainerKey,\n    className: \"fb-post\",\n    \"data-href\": url,\n    style: {\n      width: isPercentageWidth ? '100%' : width !== null && width !== void 0 ? width : defaultEmbedWidth,\n      height: isPercentageHeight ? '100%' : height !== null && height !== void 0 ? height : undefined\n    }\n  })), !embedSuccess && !placeholderDisabled && placeholder);\n};\n\nexports.FacebookEmbed = FacebookEmbed;","map":{"version":3,"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__importDefault","mod","__esModule","defineProperty","exports","value","FacebookEmbed","classnames_1","require","react_1","PlaceholderEmbed_1","uuid_1","EmbedStyle_1","embedJsScriptSrc","defaultEmbedWidth","maxPlaceholderWidth","defaultPlaceholderHeight","borderRadius","CHECK_SCRIPT_STAGE","LOAD_SCRIPT_STAGE","CONFIRM_SCRIPT_LOADED_STAGE","PROCESS_EMBED_STAGE","CONFIRM_EMBED_SUCCESS_STAGE","RETRYING_STAGE","EMBED_SUCCESS_STAGE","_a","_b","_c","url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","debug","divProps","stage","setStage","default","useState","embedSuccess","useMemo","uuidRef","useRef","generateUUID","processTime","setProcessTime","Date","now","embedContainerKey","current","useEffect","console","log","toISOString","win","window","undefined","FB","XFBML","parse","error","document","scriptElement","createElement","setAttribute","head","appendChild","interval","setInterval","clearInterval","confirmInterval","retryTimeout","fbPostContainerElement","getElementById","fbPostElem","getElementsByClassName","children","setTimeout","clearTimeout","isPercentageWidth","toString","includes","isPercentageHeight","placeholderStyle","maxWidth","style","maxHeight","border","placeholder","PlaceholderEmbed","assign","imageUrl","spinner","spinnerDisabled","className","overflow","EmbedStyle","id","key"],"sources":["D:/mern/gsv-website-main/client/node_modules/react-social-media-embed/dist/components/embeds/FacebookEmbed.js"],"sourcesContent":["\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FacebookEmbed = void 0;\nconst classnames_1 = __importDefault(require(\"classnames\"));\nconst react_1 = __importDefault(require(\"react\"));\nconst PlaceholderEmbed_1 = require(\"../placeholder/PlaceholderEmbed\");\nconst uuid_1 = require(\"../uuid\");\nconst EmbedStyle_1 = require(\"./EmbedStyle\");\nconst embedJsScriptSrc = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2';\nconst defaultEmbedWidth = 550;\nconst maxPlaceholderWidth = defaultEmbedWidth;\nconst defaultPlaceholderHeight = 372;\nconst borderRadius = 3;\n// Embed Stages\nconst CHECK_SCRIPT_STAGE = 'check-script';\nconst LOAD_SCRIPT_STAGE = 'load-script';\nconst CONFIRM_SCRIPT_LOADED_STAGE = 'confirm-script-loaded';\nconst PROCESS_EMBED_STAGE = 'process-embed';\nconst CONFIRM_EMBED_SUCCESS_STAGE = 'confirm-embed-success';\nconst RETRYING_STAGE = 'retrying';\nconst EMBED_SUCCESS_STAGE = 'embed-success';\nconst FacebookEmbed = (_a) => {\n    var _b, _c;\n    var { url, width, height, linkText = 'View post on Facebook', placeholderImageUrl, placeholderSpinner, placeholderSpinnerDisabled = false, placeholderProps, embedPlaceholder, placeholderDisabled = false, scriptLoadDisabled = false, retryDelay = 5000, retryDisabled = false, debug = false } = _a, divProps = __rest(_a, [\"url\", \"width\", \"height\", \"linkText\", \"placeholderImageUrl\", \"placeholderSpinner\", \"placeholderSpinnerDisabled\", \"placeholderProps\", \"embedPlaceholder\", \"placeholderDisabled\", \"scriptLoadDisabled\", \"retryDelay\", \"retryDisabled\", \"debug\"]);\n    const [stage, setStage] = react_1.default.useState(CHECK_SCRIPT_STAGE);\n    const embedSuccess = react_1.default.useMemo(() => stage === EMBED_SUCCESS_STAGE, [stage]);\n    const uuidRef = react_1.default.useRef((0, uuid_1.generateUUID)());\n    const [processTime, setProcessTime] = react_1.default.useState(Date.now());\n    const embedContainerKey = react_1.default.useMemo(() => `${uuidRef.current}-${processTime}`, [processTime]);\n    // Debug Output\n    react_1.default.useEffect(() => {\n        debug && console.log(`[${new Date().toISOString()}]: ${stage}`);\n    }, [debug, stage]);\n    // === === === === === === === === === === === === === === === === === === ===\n    // Embed Stages\n    // === === === === === === === === === === === === === === === === === === ===\n    // Check Script Stage\n    react_1.default.useEffect(() => {\n        var _a, _b;\n        if (stage === CHECK_SCRIPT_STAGE) {\n            const win = typeof window !== 'undefined' ? window : undefined;\n            if ((_b = (_a = win === null || win === void 0 ? void 0 : win.FB) === null || _a === void 0 ? void 0 : _a.XFBML) === null || _b === void 0 ? void 0 : _b.parse) {\n                setStage(PROCESS_EMBED_STAGE);\n            }\n            else if (!scriptLoadDisabled) {\n                setStage(LOAD_SCRIPT_STAGE);\n            }\n            else {\n                console.error('Facebook embed script not found. Unable to process Facebook embed:', url);\n            }\n        }\n    }, [scriptLoadDisabled, stage, url]);\n    // Load Script Stage\n    react_1.default.useEffect(() => {\n        if (stage === LOAD_SCRIPT_STAGE) {\n            if (typeof document !== 'undefined') {\n                const scriptElement = document.createElement('script');\n                scriptElement.setAttribute('src', embedJsScriptSrc);\n                document.head.appendChild(scriptElement);\n                setStage(CONFIRM_SCRIPT_LOADED_STAGE);\n            }\n        }\n    }, [stage]);\n    // Confirm Script Loaded Stage\n    react_1.default.useEffect(() => {\n        let interval = undefined;\n        if (stage === CONFIRM_SCRIPT_LOADED_STAGE) {\n            const win = typeof window !== 'undefined' ? window : undefined;\n            interval = setInterval(() => {\n                var _a, _b;\n                if ((_b = (_a = win === null || win === void 0 ? void 0 : win.FB) === null || _a === void 0 ? void 0 : _a.XFBML) === null || _b === void 0 ? void 0 : _b.parse) {\n                    setStage(PROCESS_EMBED_STAGE);\n                }\n            }, 1);\n        }\n        return () => clearInterval(interval);\n    }, [stage]);\n    // Process Embed Stage\n    react_1.default.useEffect(() => {\n        var _a, _b;\n        if (stage === PROCESS_EMBED_STAGE) {\n            const win = typeof window !== 'undefined' ? window : undefined;\n            const parse = (_b = (_a = win === null || win === void 0 ? void 0 : win.FB) === null || _a === void 0 ? void 0 : _a.XFBML) === null || _b === void 0 ? void 0 : _b.parse;\n            if (parse) {\n                parse();\n                setStage(CONFIRM_EMBED_SUCCESS_STAGE);\n            }\n            else {\n                console.error('Facebook embed script not found. Unable to process Facebook embed:', url);\n            }\n        }\n    }, [stage, url]);\n    // Confirm Embed Success Stage\n    react_1.default.useEffect(() => {\n        let confirmInterval = undefined;\n        let retryTimeout = undefined;\n        if (stage === CONFIRM_EMBED_SUCCESS_STAGE) {\n            confirmInterval = setInterval(() => {\n                if (typeof document !== 'undefined') {\n                    const fbPostContainerElement = document.getElementById(uuidRef.current);\n                    if (fbPostContainerElement) {\n                        const fbPostElem = fbPostContainerElement.getElementsByClassName('fb-post')[0];\n                        if (fbPostElem) {\n                            if (fbPostElem.children.length > 0) {\n                                setStage(EMBED_SUCCESS_STAGE);\n                            }\n                        }\n                    }\n                }\n            }, 1);\n            if (!retryDisabled) {\n                retryTimeout = setTimeout(() => {\n                    setStage(RETRYING_STAGE);\n                }, retryDelay);\n            }\n        }\n        return () => {\n            clearInterval(confirmInterval);\n            clearTimeout(retryTimeout);\n        };\n    }, [retryDisabled, retryDelay, stage]);\n    // Retrying Stage\n    react_1.default.useEffect(() => {\n        if (stage === RETRYING_STAGE) {\n            // This forces the embed container to remount\n            setProcessTime(Date.now());\n            setStage(PROCESS_EMBED_STAGE);\n        }\n    }, [stage]);\n    // END Embed Stages\n    // === === === === === === === === === === === === === === === === === === ===\n    const isPercentageWidth = !!(width === null || width === void 0 ? void 0 : width.toString().includes('%'));\n    const isPercentageHeight = !!(height === null || height === void 0 ? void 0 : height.toString().includes('%'));\n    // === Placeholder ===\n    const placeholderStyle = {\n        maxWidth: isPercentageWidth ? undefined : maxPlaceholderWidth,\n        width: typeof width !== 'undefined' ? (isPercentageWidth ? '100%' : width) : '100%',\n        height: isPercentageHeight\n            ? '100%'\n            : typeof height !== 'undefined'\n                ? height\n                : typeof ((_b = divProps.style) === null || _b === void 0 ? void 0 : _b.height) !== 'undefined' || typeof ((_c = divProps.style) === null || _c === void 0 ? void 0 : _c.maxHeight) !== 'undefined'\n                    ? '100%'\n                    : defaultPlaceholderHeight,\n        border: '1px solid #dee2e6',\n        borderRadius,\n    };\n    const placeholder = embedPlaceholder !== null && embedPlaceholder !== void 0 ? embedPlaceholder : (react_1.default.createElement(PlaceholderEmbed_1.PlaceholderEmbed, Object.assign({ url: url, imageUrl: placeholderImageUrl, linkText: linkText, spinner: placeholderSpinner, spinnerDisabled: placeholderSpinnerDisabled }, placeholderProps, { style: Object.assign(Object.assign({}, placeholderStyle), placeholderProps === null || placeholderProps === void 0 ? void 0 : placeholderProps.style) })));\n    // === END Placeholder ===\n    return (react_1.default.createElement(\"div\", Object.assign({}, divProps, { className: (0, classnames_1.default)('rsme-embed rsme-facebook-embed', divProps.className), style: Object.assign({ overflow: 'hidden', width: width !== null && width !== void 0 ? width : undefined, height: height !== null && height !== void 0 ? height : undefined, borderRadius }, divProps.style) }),\n        react_1.default.createElement(EmbedStyle_1.EmbedStyle, null),\n        react_1.default.createElement(\"div\", { id: uuidRef.current, className: (0, classnames_1.default)(!embedSuccess && 'rsme-d-none') },\n            react_1.default.createElement(\"div\", { key: embedContainerKey, className: \"fb-post\", \"data-href\": url, style: {\n                    width: isPercentageWidth ? '100%' : width !== null && width !== void 0 ? width : defaultEmbedWidth,\n                    height: isPercentageHeight ? '100%' : height !== null && height !== void 0 ? height : undefined,\n                } })),\n        !embedSuccess && !placeholderDisabled && placeholder));\n};\nexports.FacebookEmbed = FacebookEmbed;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}