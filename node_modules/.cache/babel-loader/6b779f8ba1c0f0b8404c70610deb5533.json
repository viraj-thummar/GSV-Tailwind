{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InstagramEmbed = void 0;\n\nconst classnames_1 = __importDefault(require(\"classnames\"));\n\nconst React = __importStar(require(\"react\"));\n\nconst PlaceholderEmbed_1 = require(\"../placeholder/PlaceholderEmbed\");\n\nconst uuid_1 = require(\"../uuid\");\n\nconst EmbedStyle_1 = require(\"./EmbedStyle\");\n\nconst embedJsScriptSrc = '//www.instagram.com/embed.js';\nconst minPlaceholderWidth = 328;\nconst defaultPlaceholderHeight = 372;\nconst borderRadius = 3; // Embed Stages\n\nconst CHECK_SCRIPT_STAGE = 'check-script';\nconst LOAD_SCRIPT_STAGE = 'load-script';\nconst CONFIRM_SCRIPT_LOADED_STAGE = 'confirm-script-loaded';\nconst PROCESS_EMBED_STAGE = 'process-embed';\nconst CONFIRM_EMBED_SUCCESS_STAGE = 'confirm-embed-success';\nconst RETRYING_STAGE = 'retrying';\nconst EMBED_SUCCESS_STAGE = 'embed-success';\n\nconst InstagramEmbed = _a => {\n  var _b, _c;\n\n  var {\n    url,\n    width,\n    height,\n    linkText = 'View post on Instagram',\n    placeholderImageUrl,\n    placeholderSpinner,\n    placeholderSpinnerDisabled = false,\n    placeholderProps,\n    embedPlaceholder,\n    placeholderDisabled = false,\n    scriptLoadDisabled = false,\n    retryDelay = 5000,\n    retryDisabled = false,\n    igVersion = '14',\n    debug = false\n  } = _a,\n      divProps = __rest(_a, [\"url\", \"width\", \"height\", \"linkText\", \"placeholderImageUrl\", \"placeholderSpinner\", \"placeholderSpinnerDisabled\", \"placeholderProps\", \"embedPlaceholder\", \"placeholderDisabled\", \"scriptLoadDisabled\", \"retryDelay\", \"retryDisabled\", \"igVersion\", \"debug\"]);\n\n  const [stage, setStage] = React.useState(CHECK_SCRIPT_STAGE);\n  const uuidRef = React.useRef((0, uuid_1.generateUUID)());\n  const [processTime, setProcessTime] = React.useState(Date.now());\n  const embedContainerKey = React.useMemo(() => `${uuidRef.current}-${processTime}`, [processTime]); // Debug Output\n\n  React.useEffect(() => {\n    debug && console.log(`[${new Date().toISOString()}]: ${stage}`);\n  }, [debug, stage]); // === === === === === === === === === === === === === === === === === === ===\n  // Embed Stages\n  // === === === === === === === === === === === === === === === === === === ===\n  // Check Script Stage\n\n  React.useEffect(() => {\n    var _a, _b;\n\n    if (stage === CHECK_SCRIPT_STAGE) {\n      const win = typeof window !== 'undefined' ? window : undefined;\n\n      if ((_b = (_a = win.instgrm) === null || _a === void 0 ? void 0 : _a.Embeds) === null || _b === void 0 ? void 0 : _b.process) {\n        setStage(PROCESS_EMBED_STAGE);\n      } else if (!scriptLoadDisabled) {\n        setStage(LOAD_SCRIPT_STAGE);\n      } else {\n        console.error('Instagram embed script not found. Unable to process Instagram embed:', url);\n      }\n    }\n  }, [scriptLoadDisabled, stage, url]); // Load Script Stage\n\n  React.useEffect(() => {\n    if (stage === LOAD_SCRIPT_STAGE) {\n      if (typeof document !== 'undefined') {\n        const scriptElement = document.createElement('script');\n        scriptElement.setAttribute('src', embedJsScriptSrc);\n        document.head.appendChild(scriptElement);\n        setStage(CONFIRM_SCRIPT_LOADED_STAGE);\n      }\n    }\n  }, [stage]); // Confirm Script Loaded Stage\n\n  React.useEffect(() => {\n    let interval = undefined;\n\n    if (stage === CONFIRM_SCRIPT_LOADED_STAGE) {\n      const win = typeof window !== 'undefined' ? window : undefined;\n      interval = setInterval(() => {\n        var _a, _b;\n\n        if ((_b = (_a = win.instgrm) === null || _a === void 0 ? void 0 : _a.Embeds) === null || _b === void 0 ? void 0 : _b.process) {\n          setStage(PROCESS_EMBED_STAGE);\n        }\n      }, 1);\n    }\n\n    return () => clearInterval(interval);\n  }, [stage]); // Process Embed Stage\n\n  React.useEffect(() => {\n    var _a, _b;\n\n    if (stage === PROCESS_EMBED_STAGE) {\n      const win = typeof window !== 'undefined' ? window : undefined;\n      const process = (_b = (_a = win.instgrm) === null || _a === void 0 ? void 0 : _a.Embeds) === null || _b === void 0 ? void 0 : _b.process;\n\n      if (process) {\n        process();\n        setStage(CONFIRM_EMBED_SUCCESS_STAGE);\n      } else {\n        console.error('Instagram embed script not found. Unable to process Instagram embed:', url);\n      }\n    }\n  }, [stage, url]); // Confirm Embed Success Stage\n\n  React.useEffect(() => {\n    let confirmInterval = undefined;\n    let retryTimeout = undefined;\n\n    if (stage === CONFIRM_EMBED_SUCCESS_STAGE) {\n      confirmInterval = setInterval(() => {\n        if (typeof document !== 'undefined') {\n          const preEmbedElement = document.getElementById(uuidRef.current);\n\n          if (!preEmbedElement) {\n            setStage(EMBED_SUCCESS_STAGE);\n          }\n        }\n      }, 1);\n\n      if (!retryDisabled) {\n        retryTimeout = setTimeout(() => {\n          setStage(RETRYING_STAGE);\n        }, retryDelay);\n      }\n    }\n\n    return () => {\n      clearInterval(confirmInterval);\n      clearTimeout(retryTimeout);\n    };\n  }, [retryDelay, retryDisabled, stage]); // Retrying Stage\n\n  React.useEffect(() => {\n    if (stage === RETRYING_STAGE) {\n      // This forces the embed container to remount\n      setProcessTime(Date.now());\n      setStage(PROCESS_EMBED_STAGE);\n    }\n  }, [stage]); // END Embed Stages\n  // === === === === === === === === === === === === === === === === === === ===\n\n  const urlWithNoQuery = url.replace(/[?].*$/, '');\n  const cleanUrlWithEndingSlash = `${urlWithNoQuery}${urlWithNoQuery.endsWith('/') ? '' : '/'}`;\n  const isPercentageWidth = !!(width === null || width === void 0 ? void 0 : width.toString().includes('%'));\n  const isPercentageHeight = !!(height === null || height === void 0 ? void 0 : height.toString().includes('%')); // === Placeholder ===\n\n  const placeholderStyle = {\n    minWidth: isPercentageWidth ? undefined : minPlaceholderWidth,\n    width: typeof width !== 'undefined' ? isPercentageWidth ? '100%' : width : '100%',\n    height: isPercentageHeight ? '100%' : typeof height !== 'undefined' ? height : typeof ((_b = divProps.style) === null || _b === void 0 ? void 0 : _b.height) !== 'undefined' || typeof ((_c = divProps.style) === null || _c === void 0 ? void 0 : _c.maxHeight) !== 'undefined' ? '100%' : defaultPlaceholderHeight,\n    border: '1px solid #dee2e6',\n    borderRadius\n  };\n  const placeholder = embedPlaceholder !== null && embedPlaceholder !== void 0 ? embedPlaceholder : React.createElement(PlaceholderEmbed_1.PlaceholderEmbed, Object.assign({\n    url: cleanUrlWithEndingSlash,\n    imageUrl: placeholderImageUrl,\n    linkText: linkText,\n    spinner: placeholderSpinner,\n    spinnerDisabled: placeholderSpinnerDisabled\n  }, placeholderProps, {\n    style: Object.assign(Object.assign({}, placeholderStyle), placeholderProps === null || placeholderProps === void 0 ? void 0 : placeholderProps.style)\n  })); // === END Placeholder ===\n\n  return React.createElement(\"div\", {\n    className: (0, classnames_1.default)('rsme-embed rsme-instagram-embed', divProps.className),\n    style: Object.assign({\n      overflow: 'hidden',\n      width: width !== null && width !== void 0 ? width : undefined,\n      height: height !== null && height !== void 0 ? height : undefined,\n      borderRadius\n    }, divProps.style)\n  }, React.createElement(EmbedStyle_1.EmbedStyle, null), React.createElement(\"blockquote\", {\n    key: embedContainerKey,\n    className: \"instagram-media\",\n    \"data-instgrm-permalink\": `${cleanUrlWithEndingSlash}?utm_source=ig_embed&utm_campaign=loading`,\n    \"data-instgrm-version\": igVersion,\n    style: {\n      width: 'calc(100% - 2px)'\n    }\n  }, !placeholderDisabled && placeholder, React.createElement(\"div\", {\n    id: uuidRef.current,\n    className: \"instagram-media-pre-embed rsme-d-none\"\n  }, \"\\u00A0\")));\n};\n\nexports.InstagramEmbed = InstagramEmbed;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__importDefault","exports","InstagramEmbed","classnames_1","require","React","PlaceholderEmbed_1","uuid_1","EmbedStyle_1","embedJsScriptSrc","minPlaceholderWidth","defaultPlaceholderHeight","borderRadius","CHECK_SCRIPT_STAGE","LOAD_SCRIPT_STAGE","CONFIRM_SCRIPT_LOADED_STAGE","PROCESS_EMBED_STAGE","CONFIRM_EMBED_SUCCESS_STAGE","RETRYING_STAGE","EMBED_SUCCESS_STAGE","_a","_b","_c","url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","igVersion","debug","divProps","stage","setStage","useState","uuidRef","useRef","generateUUID","processTime","setProcessTime","Date","now","embedContainerKey","useMemo","current","useEffect","console","log","toISOString","win","window","instgrm","Embeds","process","error","document","scriptElement","createElement","setAttribute","head","appendChild","interval","setInterval","clearInterval","confirmInterval","retryTimeout","preEmbedElement","getElementById","setTimeout","clearTimeout","urlWithNoQuery","replace","cleanUrlWithEndingSlash","endsWith","isPercentageWidth","toString","includes","isPercentageHeight","placeholderStyle","minWidth","style","maxHeight","border","placeholder","PlaceholderEmbed","assign","imageUrl","spinner","spinnerDisabled","className","default","overflow","EmbedStyle","key","id"],"sources":["D:/mern/gsv-website-main/client/node_modules/react-social-media-embed/dist/components/embeds/InstagramEmbed.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InstagramEmbed = void 0;\nconst classnames_1 = __importDefault(require(\"classnames\"));\nconst React = __importStar(require(\"react\"));\nconst PlaceholderEmbed_1 = require(\"../placeholder/PlaceholderEmbed\");\nconst uuid_1 = require(\"../uuid\");\nconst EmbedStyle_1 = require(\"./EmbedStyle\");\nconst embedJsScriptSrc = '//www.instagram.com/embed.js';\nconst minPlaceholderWidth = 328;\nconst defaultPlaceholderHeight = 372;\nconst borderRadius = 3;\n// Embed Stages\nconst CHECK_SCRIPT_STAGE = 'check-script';\nconst LOAD_SCRIPT_STAGE = 'load-script';\nconst CONFIRM_SCRIPT_LOADED_STAGE = 'confirm-script-loaded';\nconst PROCESS_EMBED_STAGE = 'process-embed';\nconst CONFIRM_EMBED_SUCCESS_STAGE = 'confirm-embed-success';\nconst RETRYING_STAGE = 'retrying';\nconst EMBED_SUCCESS_STAGE = 'embed-success';\nconst InstagramEmbed = (_a) => {\n    var _b, _c;\n    var { url, width, height, linkText = 'View post on Instagram', placeholderImageUrl, placeholderSpinner, placeholderSpinnerDisabled = false, placeholderProps, embedPlaceholder, placeholderDisabled = false, scriptLoadDisabled = false, retryDelay = 5000, retryDisabled = false, igVersion = '14', debug = false } = _a, divProps = __rest(_a, [\"url\", \"width\", \"height\", \"linkText\", \"placeholderImageUrl\", \"placeholderSpinner\", \"placeholderSpinnerDisabled\", \"placeholderProps\", \"embedPlaceholder\", \"placeholderDisabled\", \"scriptLoadDisabled\", \"retryDelay\", \"retryDisabled\", \"igVersion\", \"debug\"]);\n    const [stage, setStage] = React.useState(CHECK_SCRIPT_STAGE);\n    const uuidRef = React.useRef((0, uuid_1.generateUUID)());\n    const [processTime, setProcessTime] = React.useState(Date.now());\n    const embedContainerKey = React.useMemo(() => `${uuidRef.current}-${processTime}`, [processTime]);\n    // Debug Output\n    React.useEffect(() => {\n        debug && console.log(`[${new Date().toISOString()}]: ${stage}`);\n    }, [debug, stage]);\n    // === === === === === === === === === === === === === === === === === === ===\n    // Embed Stages\n    // === === === === === === === === === === === === === === === === === === ===\n    // Check Script Stage\n    React.useEffect(() => {\n        var _a, _b;\n        if (stage === CHECK_SCRIPT_STAGE) {\n            const win = typeof window !== 'undefined' ? window : undefined;\n            if ((_b = (_a = win.instgrm) === null || _a === void 0 ? void 0 : _a.Embeds) === null || _b === void 0 ? void 0 : _b.process) {\n                setStage(PROCESS_EMBED_STAGE);\n            }\n            else if (!scriptLoadDisabled) {\n                setStage(LOAD_SCRIPT_STAGE);\n            }\n            else {\n                console.error('Instagram embed script not found. Unable to process Instagram embed:', url);\n            }\n        }\n    }, [scriptLoadDisabled, stage, url]);\n    // Load Script Stage\n    React.useEffect(() => {\n        if (stage === LOAD_SCRIPT_STAGE) {\n            if (typeof document !== 'undefined') {\n                const scriptElement = document.createElement('script');\n                scriptElement.setAttribute('src', embedJsScriptSrc);\n                document.head.appendChild(scriptElement);\n                setStage(CONFIRM_SCRIPT_LOADED_STAGE);\n            }\n        }\n    }, [stage]);\n    // Confirm Script Loaded Stage\n    React.useEffect(() => {\n        let interval = undefined;\n        if (stage === CONFIRM_SCRIPT_LOADED_STAGE) {\n            const win = typeof window !== 'undefined' ? window : undefined;\n            interval = setInterval(() => {\n                var _a, _b;\n                if ((_b = (_a = win.instgrm) === null || _a === void 0 ? void 0 : _a.Embeds) === null || _b === void 0 ? void 0 : _b.process) {\n                    setStage(PROCESS_EMBED_STAGE);\n                }\n            }, 1);\n        }\n        return () => clearInterval(interval);\n    }, [stage]);\n    // Process Embed Stage\n    React.useEffect(() => {\n        var _a, _b;\n        if (stage === PROCESS_EMBED_STAGE) {\n            const win = typeof window !== 'undefined' ? window : undefined;\n            const process = (_b = (_a = win.instgrm) === null || _a === void 0 ? void 0 : _a.Embeds) === null || _b === void 0 ? void 0 : _b.process;\n            if (process) {\n                process();\n                setStage(CONFIRM_EMBED_SUCCESS_STAGE);\n            }\n            else {\n                console.error('Instagram embed script not found. Unable to process Instagram embed:', url);\n            }\n        }\n    }, [stage, url]);\n    // Confirm Embed Success Stage\n    React.useEffect(() => {\n        let confirmInterval = undefined;\n        let retryTimeout = undefined;\n        if (stage === CONFIRM_EMBED_SUCCESS_STAGE) {\n            confirmInterval = setInterval(() => {\n                if (typeof document !== 'undefined') {\n                    const preEmbedElement = document.getElementById(uuidRef.current);\n                    if (!preEmbedElement) {\n                        setStage(EMBED_SUCCESS_STAGE);\n                    }\n                }\n            }, 1);\n            if (!retryDisabled) {\n                retryTimeout = setTimeout(() => {\n                    setStage(RETRYING_STAGE);\n                }, retryDelay);\n            }\n        }\n        return () => {\n            clearInterval(confirmInterval);\n            clearTimeout(retryTimeout);\n        };\n    }, [retryDelay, retryDisabled, stage]);\n    // Retrying Stage\n    React.useEffect(() => {\n        if (stage === RETRYING_STAGE) {\n            // This forces the embed container to remount\n            setProcessTime(Date.now());\n            setStage(PROCESS_EMBED_STAGE);\n        }\n    }, [stage]);\n    // END Embed Stages\n    // === === === === === === === === === === === === === === === === === === ===\n    const urlWithNoQuery = url.replace(/[?].*$/, '');\n    const cleanUrlWithEndingSlash = `${urlWithNoQuery}${urlWithNoQuery.endsWith('/') ? '' : '/'}`;\n    const isPercentageWidth = !!(width === null || width === void 0 ? void 0 : width.toString().includes('%'));\n    const isPercentageHeight = !!(height === null || height === void 0 ? void 0 : height.toString().includes('%'));\n    // === Placeholder ===\n    const placeholderStyle = {\n        minWidth: isPercentageWidth ? undefined : minPlaceholderWidth,\n        width: typeof width !== 'undefined' ? (isPercentageWidth ? '100%' : width) : '100%',\n        height: isPercentageHeight\n            ? '100%'\n            : typeof height !== 'undefined'\n                ? height\n                : typeof ((_b = divProps.style) === null || _b === void 0 ? void 0 : _b.height) !== 'undefined' || typeof ((_c = divProps.style) === null || _c === void 0 ? void 0 : _c.maxHeight) !== 'undefined'\n                    ? '100%'\n                    : defaultPlaceholderHeight,\n        border: '1px solid #dee2e6',\n        borderRadius,\n    };\n    const placeholder = embedPlaceholder !== null && embedPlaceholder !== void 0 ? embedPlaceholder : (React.createElement(PlaceholderEmbed_1.PlaceholderEmbed, Object.assign({ url: cleanUrlWithEndingSlash, imageUrl: placeholderImageUrl, linkText: linkText, spinner: placeholderSpinner, spinnerDisabled: placeholderSpinnerDisabled }, placeholderProps, { style: Object.assign(Object.assign({}, placeholderStyle), placeholderProps === null || placeholderProps === void 0 ? void 0 : placeholderProps.style) })));\n    // === END Placeholder ===\n    return (React.createElement(\"div\", { className: (0, classnames_1.default)('rsme-embed rsme-instagram-embed', divProps.className), style: Object.assign({ overflow: 'hidden', width: width !== null && width !== void 0 ? width : undefined, height: height !== null && height !== void 0 ? height : undefined, borderRadius }, divProps.style) },\n        React.createElement(EmbedStyle_1.EmbedStyle, null),\n        React.createElement(\"blockquote\", { key: embedContainerKey, className: \"instagram-media\", \"data-instgrm-permalink\": `${cleanUrlWithEndingSlash}?utm_source=ig_embed&utm_campaign=loading`, \"data-instgrm-version\": igVersion, style: {\n                width: 'calc(100% - 2px)',\n            } },\n            !placeholderDisabled && placeholder,\n            React.createElement(\"div\", { id: uuidRef.current, className: \"instagram-media-pre-embed rsme-d-none\" }, \"\\u00A0\"))));\n};\nexports.InstagramEmbed = InstagramEmbed;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}